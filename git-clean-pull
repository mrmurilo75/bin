#!/bin/bash

echo -e "\tCurrent status: \n"
git status
VAR="n"
echo -e "Actions to take: "
if git status | grep "Your branch is ahead" || git status | grep "Changes to be commited"
then
        echo "reset branch to origin/master"
fi
git clean -nfdx
git fetch --dry-run --all --force -p
echo -ne "\n\tContinue [y/n]? "
read VAR
if [ "${VAR,,}" = "y" ] || [ "${VAR,,}" = "yes" ]
then
	git reset --hard
	git clean -fdx
	git fetch --all --force -p
	git pull
	echo -e "Done\n\tCurrent status: "
	git status
else
	echo -e "Cancelled (No actions taken)"
fi
